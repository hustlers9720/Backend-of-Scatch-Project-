<%- include('./header') %>
    <% cart.forEach(function(item) { %>
        <div class="w-full h-screen flex items-start px-20 py-10 gap-10 overflow-y-auto">
            <!-- Left Cart Section -->
            <div class="w-[30%] flex flex-col rounded-md overflow-hidden border shadow-lg">
                <div class="w-full h-80 flex items-center justify-center bg-[<%= item.bgcolor %>]">
                    <img src="data:image/jpeg;base64,<%= item.image.toString('base64') %>"
                        class="h-[12rem] object-contain" alt="Product Image">
                </div>
                <div class="w-full flex justify-between px-5 py-4 bg-[<%= item.panelcolor %>]">
                    <h3 class="text-2xl font-medium">Clinge Bag</h3>
                    <div class="flex items-center gap-2">
                        <button
                            class="w-7 h-7 bg-white flex rounded-full items-center justify-center border ri-add-line"></button>
                        <div class="px-3 py-1 rounded-md bg-white text-black text-sm font-semibold">01</div>
                        <button
                            class="w-7 h-7 bg-white flex rounded-full items-center justify-center border ri-subtract-line"></button>
                    </div>
                </div>
                <div class="flex items-center justify-between px-5 py-3 bg-[<%= item.textcolor %>] text-white">
                    <h4 class="text-lg font-medium">Net Total</h4>
                    <h2 class="text-lg font-semibold">₹ <%= item.bill %>
                    </h2>
                </div>
            </div>

            <!-- Right Price Breakdown Section -->
            <div class="w-[70%] flex flex-col rounded-md border shadow-lg px-10 py-5 bg-gray-100">
                <h3 class="text-xl font-semibold">Price Breakdown</h3>
                <div class="mt-5 space-y-3">
                    <div class="flex justify-between">
                        <h4 class="w-1/3 text-gray-700">Total MRP</h4>
                        <h4 class="text-gray-900">₹ <%= item.price %>
                        </h4>
                    </div>
                    <div class="flex justify-between">
                        <h4 class="w-1/3 text-gray-700">Discount on MRP</h4>
                        <h4 class="text-gray-900">₹ <%= Number(item.discount) %>
                        </h4>
                    </div>
                    <div class="flex justify-between">
                        <h4 class="w-1/3 text-gray-700">Platform Fee</h4>
                        <h4 class="text-gray-900">₹ 20</h4>
                    </div>
                    <div class="flex justify-between">
                        <h4 class="w-1/3 text-gray-700">Shipping Fee</h4>
                        <h4 class="text-green-600 font-medium">FREE</h4>
                    </div>
                </div>
                <div class="w-full h-[1px] bg-gray-300 mt-8"></div>
                <div class="flex justify-between mt-5">
                    <h3 class="w-1/3 text-xl font-semibold">Total Amount</h3>
                    <h3 class="text-xl font-bold text-green-600">₹ <%= item.bill %>
                    </h3>
                </div>
                <form action="/checkout" method="POST" class="mt-5">
                    <button type="submit" class="w-full bg-blue-500 text-white py-3 rounded-md font-semibold">
                        Proceed to Checkout
                    </button>
                </form>
            </div>
        </div>
        <% }) %>